buildscript {
  ext {
    springBootVersion = '1.5.12.RELEASE'
  }
  repositories {
    mavenCentral()
    maven {
      url 'https://plugins.gradle.org/m2/'
    }
  }
  dependencies {
    classpath 'io.spring.gradle:dependency-management-plugin:1.0.5.RELEASE'
    classpath 'net.ltgt.gradle:gradle-apt-plugin:0.15'
    classpath "org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}"
  }
}

subprojects {
  apply plugin: 'net.ltgt.apt'
  apply plugin: 'io.spring.dependency-management'
  apply plugin: 'java'
  apply plugin: 'eclipse'

  group = 'com.example'
  version = '0.0.1-SNAPSHOT'
  sourceCompatibility = '1.8'

  tasks.withType(JavaCompile) { options.encoding = 'UTF-8' }

  repositories {
      mavenCentral()
  }

  dependencyManagement {
      imports { mavenBom "org.springframework.boot:spring-boot-dependencies:${springBootVersion}" }
  }

  dependencies {
    compile('org.springframework.boot:spring-boot-starter-data-jpa')
    testCompile('com.h2database:h2')
    testCompile('org.springframework.boot:spring-boot-starter-test')

    compileOnly('org.projectlombok:lombok:1.16.20')
    apt('org.projectlombok:lombok:1.16.20')
  }
}
